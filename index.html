<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colibri Telescope Array</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Navigation Bar -->
    <div class="navbar">
        <!-- Larger Top-Left Logo -->
        <div class="navbar-logo">
            <img src="Colibri_Icon.png" alt="Colibri Icon">
        </div>

        <!-- Nav links including dropdowns -->
        <div class="nav-links">

            <a href="index.html">Homepage</a>

            <!-- Dropdown: About COLIBRI -->
            <div class="nav-dropdown">
                <button class="nav-dropbtn">About COLIBRI ▼</button>
                <div class="nav-dropdown-content">
                    <a href="ElginfieldObservatory.html">Elginfield Observatory</a>
                    <a href="ColibriTelescopeArray.html">Colibri Telescope Array</a>
                </div>
            </div>

            <!-- Dropdown: Student Projects -->
            <div class="nav-dropdown">
                <button class="nav-dropbtn">Student Projects ▼</button>
                <div class="nav-dropdown-content">
                    <a href="student1.html">Toni Almeida – PhD Candidate (Technical Specialist)</a>
                    <a href="student2.html">Anthony Girmenia – MSc Student (Software Specialist)</a>
                    <a href="student3.html">Noel Wajunblum – BSc Co-op Student (POET)</a>
                </div>
            </div>

            <a href="docs.html">Technical Documentation</a>
            <a href="faqs.html">FAQs</a>
            <a href="contact.html">Contact Directory</a>
        </div>
    </div>

    <!-- Centered Logo -->
    <div class="center-logo">
        <img src="ColibriTelescopeArray_cleanlogo.png" alt="Colibri_logo_clean">
    </div>

    <!-- Dropdown Section -->
    <div class="dropdown-container">
        <!-- Left Dropdown -->
        <div class="dropdown-left">
            <div class="dropdown">
                <button class="dropdown-btn">About Colibri ▼</button>
                <div class="dropdown-content">
                    <a href="ElginfieldObservatory.html">Elginfield Observatory</a>
                    <a href="ColibriTelescopeArray.html">Colibri Telescope Array</a>
                </div>
            </div>
        </div>

        <!-- Right Dropdown -->
        <div class="dropdown-right">
            <div class="dropdown">
                <button class="dropdown-btn">Student Projects ▼</button>
                <div class="dropdown-content">
                    <a href="student1.html">Toni Almeida - PhD Candidate (techninical specialist) </a>
                    <a href="student2.html">Anthony Girmenia - MSc student (software specialist) </a>
                    <a href="student3.html">Noel Wajunblum - BSc co-op student (POET)</a>
                </div>
            </div>
        </div>
    </div>

    <!-- This is the section of the code for adding information to the events board on the homepage-->
<div class="event-box">
  <h3>Upcoming Occultation Events (UTC)</h3>
  <ul id="event-list"></ul>
</div>

<script>
async function loadEvents() {
  const response = await fetch('data/occultation_events.json');
  const events = await response.json();

  const now = new Date();
  const upcoming = events
    .filter(e => new Date(e.datetime_utc) > now)
    .sort((a, b) => new Date(a.datetime_utc) - new Date(b.datetime_utc))
    .slice(0, 10);

  const list = document.getElementById('event-list');
  list.innerHTML = '';

  if (upcoming.length === 0) {
    list.innerHTML = '<li>No upcoming events at this time.</li>';
    return;
  }

  upcoming.forEach(e => {
    const date = new Date(e.datetime_utc);
    const li = document.createElement('li');
    li.innerHTML = `
      <strong>${e.name}</strong><br>
      ${date.toUTCString()}<br>
      ΔMag: ${e.magnitude_drop || '-'} | Duration: ${e.duration || '-'}
    `;
    list.appendChild(li);
  });
}

loadEvents();
</script>

</body>
</html>
